package example.com.remotecontrol.mbus.message;

import example.com.remotecontrol.mbus.util.ByteUtil;

public class MbusUtil {
    private static final long[] ULTABLE_MPEG32 = {0L, 79764919L, 159529838L, 222504665L, 319059676L, 398814059L, 445009330L, 507990021L, 638119352L, 583659535L, 797628118L, 726387553L, 890018660L, 835552979L, 1015980042L, 944750013L, 1276238704L, 1221641927L, 1167319070L, 1095957929L, 1595256236L, 1540665371L, 1452775106L, 1381403509L, 1780037320L, 1859660671L, 1671105958L, 1733955601L, 2031960084L, 2111593891L, 1889500026L, 1952343757L, 2552477408L, 2632100695L, 2443283854L, 2506133561L, 2334638140L, 2414271883L, 2191915858L, 2254759653L, 3190512472L, 3135915759L, 3081330742L, 3009969537L, 2905550212L, 2850959411L, 2762807018L, 2691435357L, 3560074640L, 3505614887L, 3719321342L, 3648080713L, 3342211916L, 3287746299L, 3467911202L, 3396681109L, 4063920168L, 4143685023L, 4223187782L, 4286162673L, 3779000052L, 3858754371L, 3904687514L, 3967668269L, 881225847L, 809987520L, 1023691545L, 969234094L, 662832811L, 591600412L, 771767749L, 717299826L, 311336399L, 374308984L, 453813921L, 533576470L, 25881363L, 88864420L, 134795389L, 214552010L, 2023205639L, 2086057648L, 1897238633L, 1976864222L, 1804852699L, 1867694188L, 1645340341L, 1724971778L, 1587496639L, 1516133128L, 1461550545L, 1406951526L, 1302016099L, 1230646740L, 1142491917L, 1087903418L, 2896545431L, 2825181984L, 2770861561L, 2716262478L, 3215044683L, 3143675388L, 3055782693L, 3001194130L, 2326604591L, 2389456536L, 2200899649L, 2280525302L, 2578013683L, 2640855108L, 2418763421L, 2498394922L, 3769900519L, 3832873040L, 3912640137L, 3992402750L, 4088425275L, 4151408268L, 4197601365L, 4277358050L, 3334271071L, 3263032808L, 3476998961L, 3422541446L, 3585640067L, 3514407732L, 3694837229L, 3640369242L, 1762451694L, 1842216281L, 1619975040L, 1682949687L, 2047383090L, 2127137669L, 1938468188L, 2001449195L, 1325665622L, 1271206113L, 1183200824L, 1111960463L, 1543535498L, 1489069629L, 1434599652L, 1363369299L, 622672798L, 568075817L, 748617968L, 677256519L, 907627842L, 853037301L, 1067152940L, 995781531L, 51762726L, 131386257L, 177728840L, 240578815L, 269590778L, 349224269L, 429104020L, 491947555L, 4046411278L, 4126034873L, 4172115296L, 4234965207L, 3794477266L, 3874110821L, 3953728444L, 4016571915L, 3609705398L, 3555108353L, 3735388376L, 3664026991L, 3290680682L, 3236090077L, 3449943556L, 3378572211L, 3174993278L, 3120533705L, 3032266256L, 2961025959L, 2923101090L, 2868635157L, 2813903052L, 2742672763L, 2604032198L, 2683796849L, 2461293480L, 2524268063L, 2284983834L, 2364738477L, 2175806836L, 2238787779L, 1569362073L, 1498123566L, 1409854455L, 1355396672L, 1317987909L, 1246755826L, 1192025387L, 1137557660L, 2072149281L, 2135122070L, 1912620623L, 1992383480L, 1753615357L, 1816598090L, 1627664531L, 1707420964L, 295390185L, 358241886L, 404320391L, 483945776L, 43990325L, 106832002L, 186451547L, 266083308L, 932423249L, 861060070L, 1041341759L, 986742920L, 613929101L, 542559546L, 756411363L, 701822548L, 3316196985L, 3244833742L, 3425377559L, 3370778784L, 3601682597L, 3530312978L, 3744426955L, 3689838204L, 3819031489L, 3881883254L, 3928223919L, 4007849240L, 4037393693L, 4100235434L, 4180117107L, 4259748804L, 2310601993L, 2373574846L, 2151335527L, 2231098320L, 2596047829L, 2659030626L, 2470359227L, 2550115596L, 2947551409L, 2876312838L, 2788305887L, 2733848168L, 3165939309L, 3094707162L, 3040238851L, 2985771188L};

    protected static final int getCRC32Value(byte[] paramArrayOfByte) {
        int i = 0;
        if (null == paramArrayOfByte)
            return i;
        i = -1;
        for (int l : paramArrayOfByte)
            i = (int) (ULTABLE_MPEG32[(int) ((i >> 24 ^ l) & 0xFF)] ^ i << 8);
        return i;
    }

    protected static final int converInt(int paramInt) {
        byte[] arrayOfByte1 = ByteUtil.int2byteArray(paramInt);
        if ((null == arrayOfByte1) || (arrayOfByte1.length < 4))
            return 0;
        byte[] arrayOfByte2 = new byte[4];
        arrayOfByte2[0] = (byte) ((arrayOfByte1[2] & 0xFF) >> 4);
        arrayOfByte2[1] = (byte) ((arrayOfByte1[3] & 0xFF) << 5);
        arrayOfByte2[2] = (byte) ((arrayOfByte1[0] & 0xFF) >> 2);
        arrayOfByte2[3] = (byte) ((arrayOfByte1[1] & 0xFF) << 3);
        return ByteUtil.byteArray2int(arrayOfByte2);
    }
}
